"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.chooseLanguageScene = void 0;
const telegraf_1 = require("telegraf");
const SceneName_1 = require("../../../common/constant/SceneName");
const user_model_1 = require("../../../common/db/model/user.model");
exports.chooseLanguageScene = new telegraf_1.Scenes.BaseScene(SceneName_1.SceneNames.CHOOSE_LANGUAGE);
exports.chooseLanguageScene.enter(async (ctx) => {
    const buttons = [];
    let button = [];
    button.push(telegraf_1.Markup.button.callback("üá∫üáø Uzbek", "üá∫üáø"), telegraf_1.Markup.button.callback("üá¨üáß English", "üá¨üáß"), telegraf_1.Markup.button.callback("üá∑üá∫ –†—É—Å—Å–∫–∏–π", "üá∑üá∫"));
    buttons.push(button);
    await ctx.replyWithHTML(`
    <b> üá∫üáø : Assalomu Alaykumüëã</b>
<b>Tilni tanlang</b>

<b>üá∑üá∫ : –ü—Ä–∏–≤–µ—Çüëã</b>
<b>–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫</b>

<b>üá¨üáß : Helloüëã</b>
<b>Select a language</b>
`, telegraf_1.Markup.keyboard(buttons).resize(true));
});
exports.chooseLanguageScene.hears(/üá∫üáø/, async (ctx) => {
    ctx.session.language = "uz";
    await user_model_1.UserModel.updateOne({ userId: ctx.from.id }, { language: "uz" });
    await ctx.scene.enter(SceneName_1.SceneNames.PHONE_NUMBER);
});
exports.chooseLanguageScene.hears(/üá¨üáß/, async (ctx) => {
    ctx.session.language = "en";
    await user_model_1.UserModel.updateOne({ userId: ctx.from.id }, { language: "en" });
    await ctx.scene.enter(SceneName_1.SceneNames.PHONE_NUMBER);
});
exports.chooseLanguageScene.hears(/üá∑üá∫/, async (ctx) => {
    ctx.session.language = "ru";
    await user_model_1.UserModel.updateOne({ userId: ctx.from.id }, { language: "ru" });
    await ctx.scene.enter(SceneName_1.SceneNames.PHONE_NUMBER);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3NlTGFuZ3VhZ2Uuc2NlbmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYm90L3NuZWNlL3JlZ2lzdGVyL2Nob29zZUxhbmd1YWdlLnNjZW5lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHVDQUEwQztBQUMxQyxrRUFBZ0U7QUFDaEUsb0VBQWdFO0FBR25ELFFBQUEsbUJBQW1CLEdBQUcsSUFBSSxpQkFBTSxDQUFDLFNBQVMsQ0FBWSxzQkFBVSxDQUFDLGVBQWUsQ0FBQyxDQUFBO0FBRTlGLDJCQUFtQixDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUU7SUFDcEMsTUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFBO0lBQ2xCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQTtJQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsRUFBRSxpQkFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxFQUFFLGlCQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQTtJQUN6SixPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQ3BCLE1BQU0sR0FBRyxDQUFDLGFBQWEsQ0FBQzs7Ozs7Ozs7O0NBUzNCLEVBQ1MsaUJBQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7QUFDaEQsQ0FBQyxDQUFDLENBQUE7QUFFRiwyQkFBbUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUM1QyxHQUFHLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUE7SUFFM0IsTUFBTSxzQkFBUyxDQUFDLFNBQVMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUE7SUFFdEUsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxzQkFBVSxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ2xELENBQUMsQ0FBQyxDQUFBO0FBRUYsMkJBQW1CLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUU7SUFDNUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFBO0lBRTNCLE1BQU0sc0JBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFBO0lBRXRFLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsc0JBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNsRCxDQUFDLENBQUMsQ0FBQTtBQUVGLDJCQUFtQixDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQzVDLEdBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQTtJQUUzQixNQUFNLHNCQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtJQUV0RSxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLHNCQUFVLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDbEQsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXJrdXAsIFNjZW5lcyB9IGZyb20gXCJ0ZWxlZ3JhZlwiO1xyXG5pbXBvcnQgeyBTY2VuZU5hbWVzIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9jb25zdGFudC9TY2VuZU5hbWVcIjtcclxuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kYi9tb2RlbC91c2VyLm1vZGVsXCI7XHJcbmltcG9ydCB7IE15Q29udGV4dCB9IGZyb20gXCIuLi8uLi9wbHVnaW5zL2JvdC5wbHVnaW5cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjaG9vc2VMYW5ndWFnZVNjZW5lID0gbmV3IFNjZW5lcy5CYXNlU2NlbmU8TXlDb250ZXh0PihTY2VuZU5hbWVzLkNIT09TRV9MQU5HVUFHRSlcclxuXHJcbmNob29zZUxhbmd1YWdlU2NlbmUuZW50ZXIoYXN5bmMgKGN0eCkgPT4ge1xyXG4gICAgY29uc3QgYnV0dG9ucyA9IFtdXHJcbiAgICBsZXQgYnV0dG9uID0gW11cclxuICAgIGJ1dHRvbi5wdXNoKE1hcmt1cC5idXR0b24uY2FsbGJhY2soXCLwn4e68J+HvyBVemJla1wiLCBcIvCfh7rwn4e/XCIpLCBNYXJrdXAuYnV0dG9uLmNhbGxiYWNrKFwi8J+HrPCfh6cgRW5nbGlzaFwiLCBcIvCfh6zwn4enXCIpLCBNYXJrdXAuYnV0dG9uLmNhbGxiYWNrKFwi8J+Ht/Cfh7og0KDRg9GB0YHQutC40LlcIiwgXCLwn4e38J+HulwiKSlcclxuICAgIGJ1dHRvbnMucHVzaChidXR0b24pXHJcbiAgICBhd2FpdCBjdHgucmVwbHlXaXRoSFRNTChgXHJcbiAgICA8Yj4g8J+HuvCfh78gOiBBc3NhbG9tdSBBbGF5a3Vt8J+RizwvYj5cclxuPGI+VGlsbmkgdGFubGFuZzwvYj5cclxuXHJcbjxiPvCfh7fwn4e6IDog0J/RgNC40LLQtdGC8J+RizwvYj5cclxuPGI+0JLRi9Cx0LXRgNC40YLQtSDRj9C30YvQujwvYj5cclxuXHJcbjxiPvCfh6zwn4enIDogSGVsbG/wn5GLPC9iPlxyXG48Yj5TZWxlY3QgYSBsYW5ndWFnZTwvYj5cclxuYFxyXG4gICAgICAgICwgTWFya3VwLmtleWJvYXJkKGJ1dHRvbnMpLnJlc2l6ZSh0cnVlKSlcclxufSlcclxuXHJcbmNob29zZUxhbmd1YWdlU2NlbmUuaGVhcnMoL/Cfh7rwn4e/LywgYXN5bmMgKGN0eCkgPT4ge1xyXG4gICAgY3R4LnNlc3Npb24ubGFuZ3VhZ2UgPSBcInV6XCJcclxuXHJcbiAgICBhd2FpdCBVc2VyTW9kZWwudXBkYXRlT25lKHsgdXNlcklkOiBjdHguZnJvbS5pZCB9LCB7IGxhbmd1YWdlOiBcInV6XCIgfSlcclxuXHJcbiAgICBhd2FpdCBjdHguc2NlbmUuZW50ZXIoU2NlbmVOYW1lcy5QSE9ORV9OVU1CRVIpXHJcbn0pXHJcblxyXG5jaG9vc2VMYW5ndWFnZVNjZW5lLmhlYXJzKC/wn4es8J+Hpy8sIGFzeW5jIChjdHgpID0+IHtcclxuICAgIGN0eC5zZXNzaW9uLmxhbmd1YWdlID0gXCJlblwiXHJcblxyXG4gICAgYXdhaXQgVXNlck1vZGVsLnVwZGF0ZU9uZSh7IHVzZXJJZDogY3R4LmZyb20uaWQgfSwgeyBsYW5ndWFnZTogXCJlblwiIH0pXHJcblxyXG4gICAgYXdhaXQgY3R4LnNjZW5lLmVudGVyKFNjZW5lTmFtZXMuUEhPTkVfTlVNQkVSKVxyXG59KVxyXG5cclxuY2hvb3NlTGFuZ3VhZ2VTY2VuZS5oZWFycygv8J+Ht/Cfh7ovLCBhc3luYyAoY3R4KSA9PiB7XHJcbiAgICBjdHguc2Vzc2lvbi5sYW5ndWFnZSA9IFwicnVcIlxyXG5cclxuICAgIGF3YWl0IFVzZXJNb2RlbC51cGRhdGVPbmUoeyB1c2VySWQ6IGN0eC5mcm9tLmlkIH0sIHsgbGFuZ3VhZ2U6IFwicnVcIiB9KVxyXG5cclxuICAgIGF3YWl0IGN0eC5zY2VuZS5lbnRlcihTY2VuZU5hbWVzLlBIT05FX05VTUJFUilcclxufSlcclxuIl19