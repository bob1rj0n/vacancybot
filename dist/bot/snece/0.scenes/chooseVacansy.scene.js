"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.chooseVacansyScene = void 0;
const telegraf_1 = require("telegraf");
const messages_1 = require("../../../common/constant/messages");
const SceneName_1 = require("../../../common/constant/SceneName");
const user_model_1 = require("../../../common/db/model/user.model");
exports.chooseVacansyScene = new telegraf_1.Scenes.BaseScene(SceneName_1.SceneNames.CHOOSE_VACANSY);
exports.chooseVacansyScene.enter(async (ctx) => {
    const user = await user_model_1.UserModel.findOne({ chatId: ctx.from.id });
    const language = user.language;
    const buttons = [];
    buttons.push([
        telegraf_1.Markup.button.callback(messages_1.Buttons.ChooseVacansy[language]["👨‍💻"], "👨‍💻"),
        telegraf_1.Markup.button.callback(messages_1.Buttons.ChooseVacansy[language]["🏢"], "🏢")
    ]);
    await ctx.replyWithHTML(messages_1.Messages.Meny[language], telegraf_1.Markup.keyboard(buttons).resize(true));
});
///xodim kerak
exports.chooseVacansyScene.hears(/👨‍💻/, async (ctx) => {
    ctx.session.vacancyType = "findHr";
    await ctx.scene.enter(SceneName_1.SceneNames.OFFICE_NAME);
});
///ish joyi kerak
exports.chooseVacansyScene.hears(/🏢/, async (ctx) => {
    ctx.session.vacancyType = "findWork";
    await ctx.scene.enter(SceneName_1.SceneNames.NAME);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3NlVmFjYW5zeS5zY2VuZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9ib3Qvc25lY2UvMC5zY2VuZXMvY2hvb3NlVmFjYW5zeS5zY2VuZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBMEM7QUFDMUMsZ0VBQXNFO0FBQ3RFLGtFQUFnRTtBQUNoRSxvRUFBZ0U7QUFHbkQsUUFBQSxrQkFBa0IsR0FBRyxJQUFJLGlCQUFNLENBQUMsU0FBUyxDQUFZLHNCQUFVLENBQUMsY0FBYyxDQUFDLENBQUE7QUFFNUYsMEJBQWtCLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUNuQyxNQUFNLElBQUksR0FBRyxNQUFNLHNCQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUM3RCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQy9CLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQTtJQUNsQixPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ1QsaUJBQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLGtCQUFPLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sQ0FBQztRQUN6RSxpQkFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsa0JBQU8sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDO0tBQ3RFLENBQUMsQ0FBQTtJQUVGLE1BQU0sR0FBRyxDQUFDLGFBQWEsQ0FBQyxtQkFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxpQkFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtBQUMzRixDQUFDLENBQUMsQ0FBQTtBQUVGLGNBQWM7QUFDZCwwQkFBa0IsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUM1QyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUM7SUFDbkMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxzQkFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ2pELENBQUMsQ0FBQyxDQUFBO0FBRUYsaUJBQWlCO0FBQ2pCLDBCQUFrQixDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQ3pDLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztJQUNyQyxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLHNCQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7QUFDMUMsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXJrdXAsIFNjZW5lcyB9IGZyb20gXCJ0ZWxlZ3JhZlwiO1xuaW1wb3J0IHsgQnV0dG9ucywgTWVzc2FnZXMgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50L21lc3NhZ2VzXCI7XG5pbXBvcnQgeyBTY2VuZU5hbWVzIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9jb25zdGFudC9TY2VuZU5hbWVcIjtcbmltcG9ydCB7IFVzZXJNb2RlbCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZGIvbW9kZWwvdXNlci5tb2RlbFwiO1xuaW1wb3J0IHsgTXlDb250ZXh0IH0gZnJvbSBcIi4uLy4uL3BsdWdpbnMvYm90LnBsdWdpblwiO1xuXG5leHBvcnQgY29uc3QgY2hvb3NlVmFjYW5zeVNjZW5lID0gbmV3IFNjZW5lcy5CYXNlU2NlbmU8TXlDb250ZXh0PihTY2VuZU5hbWVzLkNIT09TRV9WQUNBTlNZKVxuXG5jaG9vc2VWYWNhbnN5U2NlbmUuZW50ZXIoYXN5bmMgKGN0eCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IGNoYXRJZDogY3R4LmZyb20uaWQgfSlcbiAgICBjb25zdCBsYW5ndWFnZSA9IHVzZXIubGFuZ3VhZ2U7XG4gICAgY29uc3QgYnV0dG9ucyA9IFtdXG4gICAgYnV0dG9ucy5wdXNoKFtcbiAgICAgICAgTWFya3VwLmJ1dHRvbi5jYWxsYmFjayhCdXR0b25zLkNob29zZVZhY2Fuc3lbbGFuZ3VhZ2VdW1wi8J+RqOKAjfCfkrtcIl0sIFwi8J+RqOKAjfCfkrtcIiksXG4gICAgICAgIE1hcmt1cC5idXR0b24uY2FsbGJhY2soQnV0dG9ucy5DaG9vc2VWYWNhbnN5W2xhbmd1YWdlXVtcIvCfj6JcIl0sIFwi8J+PolwiKVxuICAgIF0pXG5cbiAgICBhd2FpdCBjdHgucmVwbHlXaXRoSFRNTChNZXNzYWdlcy5NZW55W2xhbmd1YWdlXSwgTWFya3VwLmtleWJvYXJkKGJ1dHRvbnMpLnJlc2l6ZSh0cnVlKSlcbn0pXG5cbi8vL3hvZGltIGtlcmFrXG5jaG9vc2VWYWNhbnN5U2NlbmUuaGVhcnMoL/CfkajigI3wn5K7LywgYXN5bmMgKGN0eCkgPT4ge1xuICAgIGN0eC5zZXNzaW9uLnZhY2FuY3lUeXBlID0gXCJmaW5kSHJcIjtcbiAgICBhd2FpdCBjdHguc2NlbmUuZW50ZXIoU2NlbmVOYW1lcy5PRkZJQ0VfTkFNRSlcbn0pXG5cbi8vL2lzaCBqb3lpIGtlcmFrXG5jaG9vc2VWYWNhbnN5U2NlbmUuaGVhcnMoL/Cfj6IvLCBhc3luYyAoY3R4KSA9PiB7XG4gICAgY3R4LnNlc3Npb24udmFjYW5jeVR5cGUgPSBcImZpbmRXb3JrXCI7XG4gICAgYXdhaXQgY3R4LnNjZW5lLmVudGVyKFNjZW5lTmFtZXMuTkFNRSlcbn0pXG4iXX0=