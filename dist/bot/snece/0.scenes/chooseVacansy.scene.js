"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.chooseVacansyScene = void 0;
const telegraf_1 = require("telegraf");
const messages_1 = require("../../../common/constant/messages");
const SceneName_1 = require("../../../common/constant/SceneName");
const user_model_1 = require("../../../common/db/model/user.model");
exports.chooseVacansyScene = new telegraf_1.Scenes.BaseScene(SceneName_1.SceneNames.CHOOSE_VACANSY);
exports.chooseVacansyScene.enter(async (ctx) => {
    const user = await user_model_1.UserModel.findOne({ chatId: ctx.from.id });
    const language = user.language;
    const buttons = [];
    buttons.push([
        telegraf_1.Markup.button.callback(messages_1.Buttons.ChooseVacansy[language]["👨‍💻"], "👨‍💻"),
        telegraf_1.Markup.button.callback(messages_1.Buttons.ChooseVacansy[language]["🏢"], "🏢")
    ]);
    await ctx.replyWithHTML(messages_1.Messages.Meny[language], telegraf_1.Markup.keyboard(buttons).resize(true));
});
///xodim kerak
exports.chooseVacansyScene.hears(/👨‍💻/, async (ctx) => {
    ctx.session.vacancyType = "findHr";
    await ctx.scene.enter(SceneName_1.SceneNames.OFFICE_NAME);
});
///ish joyi kerak
exports.chooseVacansyScene.hears(/🏢/, async (ctx) => {
    ctx.session.vacancyType = "findWork";
    await ctx.scene.enter(SceneName_1.SceneNames.NAME);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hvb3NlVmFjYW5zeS5zY2VuZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9ib3Qvc25lY2UvMC5zY2VuZXMvY2hvb3NlVmFjYW5zeS5zY2VuZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBMEM7QUFDMUMsZ0VBQXNFO0FBQ3RFLGtFQUFnRTtBQUNoRSxvRUFBZ0U7QUFHbkQsUUFBQSxrQkFBa0IsR0FBRyxJQUFJLGlCQUFNLENBQUMsU0FBUyxDQUFZLHNCQUFVLENBQUMsY0FBYyxDQUFDLENBQUE7QUFFNUYsMEJBQWtCLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUNuQyxNQUFNLElBQUksR0FBRyxNQUFNLHNCQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUM3RCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQy9CLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQTtJQUNsQixPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ1QsaUJBQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLGtCQUFPLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sQ0FBQztRQUN6RSxpQkFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsa0JBQU8sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDO0tBQ3RFLENBQUMsQ0FBQTtJQUVGLE1BQU0sR0FBRyxDQUFDLGFBQWEsQ0FBQyxtQkFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxpQkFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtBQUMzRixDQUFDLENBQUMsQ0FBQTtBQUVGLGNBQWM7QUFDZCwwQkFBa0IsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUM1QyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUM7SUFDbkMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxzQkFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ2pELENBQUMsQ0FBQyxDQUFBO0FBRUYsaUJBQWlCO0FBQ2pCLDBCQUFrQixDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQ3pDLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztJQUNyQyxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLHNCQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7QUFDMUMsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXJrdXAsIFNjZW5lcyB9IGZyb20gXCJ0ZWxlZ3JhZlwiO1xyXG5pbXBvcnQgeyBCdXR0b25zLCBNZXNzYWdlcyB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vY29uc3RhbnQvbWVzc2FnZXNcIjtcclxuaW1wb3J0IHsgU2NlbmVOYW1lcyB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vY29uc3RhbnQvU2NlbmVOYW1lXCI7XHJcbmltcG9ydCB7IFVzZXJNb2RlbCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZGIvbW9kZWwvdXNlci5tb2RlbFwiO1xyXG5pbXBvcnQgeyBNeUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9ib3QucGx1Z2luXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY2hvb3NlVmFjYW5zeVNjZW5lID0gbmV3IFNjZW5lcy5CYXNlU2NlbmU8TXlDb250ZXh0PihTY2VuZU5hbWVzLkNIT09TRV9WQUNBTlNZKVxyXG5cclxuY2hvb3NlVmFjYW5zeVNjZW5lLmVudGVyKGFzeW5jIChjdHgpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IGNoYXRJZDogY3R4LmZyb20uaWQgfSlcclxuICAgIGNvbnN0IGxhbmd1YWdlID0gdXNlci5sYW5ndWFnZTtcclxuICAgIGNvbnN0IGJ1dHRvbnMgPSBbXVxyXG4gICAgYnV0dG9ucy5wdXNoKFtcclxuICAgICAgICBNYXJrdXAuYnV0dG9uLmNhbGxiYWNrKEJ1dHRvbnMuQ2hvb3NlVmFjYW5zeVtsYW5ndWFnZV1bXCLwn5Go4oCN8J+Su1wiXSwgXCLwn5Go4oCN8J+Su1wiKSxcclxuICAgICAgICBNYXJrdXAuYnV0dG9uLmNhbGxiYWNrKEJ1dHRvbnMuQ2hvb3NlVmFjYW5zeVtsYW5ndWFnZV1bXCLwn4+iXCJdLCBcIvCfj6JcIilcclxuICAgIF0pXHJcblxyXG4gICAgYXdhaXQgY3R4LnJlcGx5V2l0aEhUTUwoTWVzc2FnZXMuTWVueVtsYW5ndWFnZV0sIE1hcmt1cC5rZXlib2FyZChidXR0b25zKS5yZXNpemUodHJ1ZSkpXHJcbn0pXHJcblxyXG4vLy94b2RpbSBrZXJha1xyXG5jaG9vc2VWYWNhbnN5U2NlbmUuaGVhcnMoL/CfkajigI3wn5K7LywgYXN5bmMgKGN0eCkgPT4ge1xyXG4gICAgY3R4LnNlc3Npb24udmFjYW5jeVR5cGUgPSBcImZpbmRIclwiO1xyXG4gICAgYXdhaXQgY3R4LnNjZW5lLmVudGVyKFNjZW5lTmFtZXMuT0ZGSUNFX05BTUUpXHJcbn0pXHJcblxyXG4vLy9pc2ggam95aSBrZXJha1xyXG5jaG9vc2VWYWNhbnN5U2NlbmUuaGVhcnMoL/Cfj6IvLCBhc3luYyAoY3R4KSA9PiB7XHJcbiAgICBjdHguc2Vzc2lvbi52YWNhbmN5VHlwZSA9IFwiZmluZFdvcmtcIjtcclxuICAgIGF3YWl0IGN0eC5zY2VuZS5lbnRlcihTY2VuZU5hbWVzLk5BTUUpXHJcbn0pXHJcbiJdfQ==