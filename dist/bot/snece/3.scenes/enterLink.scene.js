"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.enterLinkScene = void 0;
const telegraf_1 = require("telegraf");
const messages_1 = require("../../../common/constant/messages");
const SceneName_1 = require("../../../common/constant/SceneName");
exports.enterLinkScene = new telegraf_1.Scenes.BaseScene(SceneName_1.SceneNames.ENTER_LINK);
exports.enterLinkScene.enter(async (ctx) => {
    const lang = ctx.session.language;
    await ctx.replyWithHTML(messages_1.Messages.EnterLink[lang], telegraf_1.Markup.removeKeyboard());
});
exports.enterLinkScene.on('text', async (ctx) => {
    let link = ctx.message.text;
    let a = link.substring(0, 8);
    if (a !== "https://") {
        link = `https://${link}`;
    }
    ctx.session.link = link;
    await ctx.scene.enter(SceneName_1.SceneNames.TIME_OF_WORK);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50ZXJMaW5rLnNjZW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2JvdC9zbmVjZS8zLnNjZW5lcy9lbnRlckxpbmsuc2NlbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQTBDO0FBQzFDLGdFQUE2RDtBQUM3RCxrRUFBZ0U7QUFJbkQsUUFBQSxjQUFjLEdBQUcsSUFBSSxpQkFBTSxDQUFDLFNBQVMsQ0FBWSxzQkFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBRXJGLHNCQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUMvQixNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQztJQUNsQyxNQUFNLEdBQUcsQ0FBQyxhQUFhLENBQUMsbUJBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsaUJBQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO0FBQy9FLENBQUMsQ0FBQyxDQUFBO0FBRUYsc0JBQWMsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUNwQyxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztJQUM1QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtJQUM1QixJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7UUFDbEIsSUFBSSxHQUFHLFdBQVcsSUFBSSxFQUFFLENBQUM7S0FDNUI7SUFFRCxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDeEIsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxzQkFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ25ELENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFya3VwLCBTY2VuZXMgfSBmcm9tIFwidGVsZWdyYWZcIjtcclxuaW1wb3J0IHsgTWVzc2FnZXMgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50L21lc3NhZ2VzXCI7XHJcbmltcG9ydCB7IFNjZW5lTmFtZXMgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50L1NjZW5lTmFtZVwiO1xyXG5pbXBvcnQgeyBWYWNhbmN5TW9kZWwgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2RiL21vZGVsL3ZhY2FuY3kubW9kZWxcIjtcclxuaW1wb3J0IHsgTXlDb250ZXh0IH0gZnJvbSBcIi4uLy4uL3BsdWdpbnMvYm90LnBsdWdpblwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudGVyTGlua1NjZW5lID0gbmV3IFNjZW5lcy5CYXNlU2NlbmU8TXlDb250ZXh0PihTY2VuZU5hbWVzLkVOVEVSX0xJTkspO1xyXG5cclxuZW50ZXJMaW5rU2NlbmUuZW50ZXIoYXN5bmMgKGN0eCkgPT4ge1xyXG4gICAgY29uc3QgbGFuZyA9IGN0eC5zZXNzaW9uLmxhbmd1YWdlO1xyXG4gICAgYXdhaXQgY3R4LnJlcGx5V2l0aEhUTUwoTWVzc2FnZXMuRW50ZXJMaW5rW2xhbmddLCBNYXJrdXAucmVtb3ZlS2V5Ym9hcmQoKSk7XHJcbn0pXHJcblxyXG5lbnRlckxpbmtTY2VuZS5vbigndGV4dCcsIGFzeW5jIChjdHgpID0+IHtcclxuICAgIGxldCBsaW5rID0gY3R4Lm1lc3NhZ2UudGV4dDtcclxuICAgIGxldCBhID0gbGluay5zdWJzdHJpbmcoMCwgOClcclxuICAgIGlmIChhICE9PSBcImh0dHBzOi8vXCIpIHtcclxuICAgICAgICBsaW5rID0gYGh0dHBzOi8vJHtsaW5rfWA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGN0eC5zZXNzaW9uLmxpbmsgPSBsaW5rO1xyXG4gICAgYXdhaXQgY3R4LnNjZW5lLmVudGVyKFNjZW5lTmFtZXMuVElNRV9PRl9XT1JLKTtcclxufSk7XHJcbiJdfQ==