"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.myVacancyScene = void 0;
const telegraf_1 = require("telegraf");
const SceneName_1 = require("../../../common/constant/SceneName");
const vacancy_model_1 = require("../../../common/db/model/vacancy.model");
exports.myVacancyScene = new telegraf_1.Scenes.BaseScene(SceneName_1.SceneNames.MY_VACANCY);
exports.myVacancyScene.enter(async (ctx) => {
    const vacs = await vacancy_model_1.VacancyModel.find({ userId: ctx.from.id });
    let Res = [], x = 0;
    for (const vac of vacs) {
        x++;
        let res = `\n${x}. ${vac.direction}`;
        Res.push(res);
    }
    await ctx.reply(Res.toString());
    await ctx.scene.enter(SceneName_1.SceneNames.MAIN);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXlWYWNhbmN5LnNjZW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2JvdC9zbmVjZS80LnNjZW5lcy9teVZhY2FuY3kuc2NlbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQTBDO0FBRTFDLGtFQUFnRTtBQUVoRSwwRUFBc0U7QUFHekQsUUFBQSxjQUFjLEdBQUcsSUFBSSxpQkFBTSxDQUFDLFNBQVMsQ0FBWSxzQkFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBRXBGLHNCQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUMvQixNQUFNLElBQUksR0FBRyxNQUFNLDRCQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5RCxJQUFJLEdBQUcsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQixLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtRQUNwQixDQUFDLEVBQUUsQ0FBQTtRQUNILElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQTtRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2pCO0lBRUQsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBQ2hDLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsc0JBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUMxQyxDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hcmt1cCwgU2NlbmVzIH0gZnJvbSBcInRlbGVncmFmXCI7XG5pbXBvcnQgeyBCdXR0b25zLCBNZXNzYWdlcyB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vY29uc3RhbnQvbWVzc2FnZXNcIjtcbmltcG9ydCB7IFNjZW5lTmFtZXMgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50L1NjZW5lTmFtZVwiO1xuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kYi9tb2RlbC91c2VyLm1vZGVsXCI7XG5pbXBvcnQgeyBWYWNhbmN5TW9kZWwgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2RiL21vZGVsL3ZhY2FuY3kubW9kZWxcIjtcbmltcG9ydCB7IE15Q29udGV4dCB9IGZyb20gXCIuLi8uLi9wbHVnaW5zL2JvdC5wbHVnaW5cIjtcblxuZXhwb3J0IGNvbnN0IG15VmFjYW5jeVNjZW5lID0gbmV3IFNjZW5lcy5CYXNlU2NlbmU8TXlDb250ZXh0PihTY2VuZU5hbWVzLk1ZX1ZBQ0FOQ1kpXG5cbm15VmFjYW5jeVNjZW5lLmVudGVyKGFzeW5jIChjdHgpID0+IHtcbiAgICBjb25zdCB2YWNzID0gYXdhaXQgVmFjYW5jeU1vZGVsLmZpbmQoeyB1c2VySWQ6IGN0eC5mcm9tLmlkIH0pO1xuICAgIGxldCBSZXMgPSBbXSwgeCA9IDA7XG4gICAgZm9yIChjb25zdCB2YWMgb2YgdmFjcykge1xuICAgICAgICB4KytcbiAgICAgICAgbGV0IHJlcyA9IGBcXG4ke3h9LiAke3ZhYy5kaXJlY3Rpb259YFxuICAgICAgICBSZXMucHVzaChyZXMpO1xuICAgIH1cblxuICAgIGF3YWl0IGN0eC5yZXBseShSZXMudG9TdHJpbmcoKSk7XG4gICAgYXdhaXQgY3R4LnNjZW5lLmVudGVyKFNjZW5lTmFtZXMuTUFJTilcbn0pXG4iXX0=