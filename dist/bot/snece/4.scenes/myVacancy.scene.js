"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.myVacancyScene = void 0;
const telegraf_1 = require("telegraf");
const SceneName_1 = require("../../../common/constant/SceneName");
const vacancy_model_1 = require("../../../common/db/model/vacancy.model");
exports.myVacancyScene = new telegraf_1.Scenes.BaseScene(SceneName_1.SceneNames.MY_VACANCY);
exports.myVacancyScene.enter(async (ctx) => {
    const vacs = await vacancy_model_1.VacancyModel.find({ userId: ctx.from.id });
    let Res = [], x = 0;
    for (const vac of vacs) {
        x++;
        let res = `\n${x}. ${vac.direction}`;
        Res.push(res);
    }
    await ctx.reply(Res.toString());
    await ctx.scene.enter(SceneName_1.SceneNames.MAIN);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXlWYWNhbmN5LnNjZW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2JvdC9zbmVjZS80LnNjZW5lcy9teVZhY2FuY3kuc2NlbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQTBDO0FBRTFDLGtFQUFnRTtBQUVoRSwwRUFBc0U7QUFHekQsUUFBQSxjQUFjLEdBQUcsSUFBSSxpQkFBTSxDQUFDLFNBQVMsQ0FBWSxzQkFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBRXBGLHNCQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUMvQixNQUFNLElBQUksR0FBRyxNQUFNLDRCQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5RCxJQUFJLEdBQUcsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQixLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtRQUNwQixDQUFDLEVBQUUsQ0FBQTtRQUNILElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQTtRQUNwQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2pCO0lBRUQsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBQ2hDLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsc0JBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUMxQyxDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hcmt1cCwgU2NlbmVzIH0gZnJvbSBcInRlbGVncmFmXCI7XHJcbmltcG9ydCB7IEJ1dHRvbnMsIE1lc3NhZ2VzIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9jb25zdGFudC9tZXNzYWdlc1wiO1xyXG5pbXBvcnQgeyBTY2VuZU5hbWVzIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9jb25zdGFudC9TY2VuZU5hbWVcIjtcclxuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kYi9tb2RlbC91c2VyLm1vZGVsXCI7XHJcbmltcG9ydCB7IFZhY2FuY3lNb2RlbCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZGIvbW9kZWwvdmFjYW5jeS5tb2RlbFwiO1xyXG5pbXBvcnQgeyBNeUNvbnRleHQgfSBmcm9tIFwiLi4vLi4vcGx1Z2lucy9ib3QucGx1Z2luXCI7XHJcblxyXG5leHBvcnQgY29uc3QgbXlWYWNhbmN5U2NlbmUgPSBuZXcgU2NlbmVzLkJhc2VTY2VuZTxNeUNvbnRleHQ+KFNjZW5lTmFtZXMuTVlfVkFDQU5DWSlcclxuXHJcbm15VmFjYW5jeVNjZW5lLmVudGVyKGFzeW5jIChjdHgpID0+IHtcclxuICAgIGNvbnN0IHZhY3MgPSBhd2FpdCBWYWNhbmN5TW9kZWwuZmluZCh7IHVzZXJJZDogY3R4LmZyb20uaWQgfSk7XHJcbiAgICBsZXQgUmVzID0gW10sIHggPSAwO1xyXG4gICAgZm9yIChjb25zdCB2YWMgb2YgdmFjcykge1xyXG4gICAgICAgIHgrK1xyXG4gICAgICAgIGxldCByZXMgPSBgXFxuJHt4fS4gJHt2YWMuZGlyZWN0aW9ufWBcclxuICAgICAgICBSZXMucHVzaChyZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IGN0eC5yZXBseShSZXMudG9TdHJpbmcoKSk7XHJcbiAgICBhd2FpdCBjdHguc2NlbmUuZW50ZXIoU2NlbmVOYW1lcy5NQUlOKVxyXG59KVxyXG4iXX0=